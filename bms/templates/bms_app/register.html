{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>Registration Form</title>
    <link rel="stylesheet" type="text/css" href="{% static 'bms_app/bootstrap/css/bootstrap.min.css' %}">
    <script type="text/javascript" src="{% static 'bms_app/js/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bms_app/js/style.js' %}"></script>
</head>
<style>
    body{
        background-image:url({% static 'bms_app/images/templates.jpg' %});
        background-attachment:fixed;
        background-size:cover;
    }
    .panel-title{
        text-align: center;
        font-weight: bold;
        font-size: 30px;
    }
    #loginbox{
        margin-top:100px; 
        align-content: center;
    }
</style>
<script type="text/javascript">

  function checkForm(form)
  {
    var passmsg = document.getElementById('passmsg');
    passmsg.style.color = "#ff6666";
      if(form.password.value.length < 6) {
        
        passmsg.innerHTML = "Password must contain at least six characters!"
        form.password.focus();
        return false;
      }
      if(form.password.value == form.username.value) {
        
        passmsg.innerHTML = "Password must be different from Username!"
        form.password.focus();
        return false;
      }
      re = /[0-9]/;
      if(!re.test(form.password.value)) {
        passmsg.innerHTML = "password must contain at least one number (0-9)!"
       
        form.password.focus();
        return false;
      }
      re = /[a-z]/;
      if(!re.test(form.password.value)) {
        passmsg.innerHTML = "password must contain at least one lowercase letter (a-z)!"
        
        form.password.focus();
        return false;
      }
      re = /[A-Z]/;
      if(!re.test(form.password.value)) {
        passmsg.innerHTML = "password must contain at least one uppercase letter (A-Z)!"
       
        form.password.focus();
        return false;
      }
    } 
</script>
<body>  
    {% block content %}
    <form method="POST" onsubmit="return checkForm(this);">
        {% csrf_token %}
        <div id="loginbox" class="mainbox col-md-4 col-md-offset-4 row vertical-center-row">
            <div class="panel panel-info" >
                <div class="panel-heading">
                    <div class="panel-title">SIGN UP</div>
                </div>    

                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} ">{{ message }}</div>
                {% endfor %}

                <div style="padding-top:30px" class="panel-body" >
<!--                     <div class="alert alert-success" id="successmsg" style="display: none;">
                        <strong>You have successfully registered.</strong>
                    </div> -->

                    <form id="loginform" class="form-horizontal" role="form">

                        <div style="margin-bottom: 25px" class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input id="username" type="text" class="form-control" name="username" placeholder="Your username" required="required" autofocus="autofocus" onkeyup="checkusername();"><span id="usermsg" class="help-inline"></span>                   
                        </div>

                        <div style="margin-bottom: 25px" class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                            <input id="email" type="email" class="form-control" name="email" placeholder="Your email" required="required" onkeyup="checkemail();">
                            <span id="mailmsg" class="confirmMessage col-md-9"></span>
                        </div>

                        <div style="margin-bottom: 25px" class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                            <input id="password" type="password" class="form-control" name="password" placeholder="Your password" required="re
                            "><span id="passmsg" class="help-inline"></span>
                        </div>

                        <div style="margin-bottom: 25px" class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                            <input id="password_confirm" type="password" class="form-control" name="password_confirm" placeholder="Please confirm your password" required="">
                            <span id="confirmMessage" class="confirmMessage col-md-9"></span>
                        </div>

                        <div style="margin-top:15px" class="form-group">
                            <div class="col-sm-12 controls">
                            <button class="btn btn-md btn-primary btn-block" id="regbtn" type="submit" onClick="$('/login')"> <strong>SIGN UP</strong> </button> 

                            </div>
                        </div>


                        <div class="form-group">
                            <div class="col-md-12 control" style="padding: 10px;">
                                <div style="border-top: 1px solid#888; padding-top:10px; font-size:15px;" >
                                    Already a member ?
                                    <a href="/login" onClick="$('/login')">
                                        Login Here
                                    </a>
                                </div>
                            </div>
                        </div>    
                    </form>     
                </div>                     
            </div>  

        </div>
    </form>
    {% endblock %}
</body>
</html>
